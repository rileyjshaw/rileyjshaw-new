{"version":3,"file":"bd4cf55bb3be57e81eade1736d1e89963d705fa0-5249092de55ac3c8a3d9.js","mappings":"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","sources":["webpack://rileyjshaw.com/./src/components/BigQuote.jsx","webpack://rileyjshaw.com/./src/components/ContentNode.jsx","webpack://rileyjshaw.com/./src/components/ContentGrid.jsx","webpack://rileyjshaw.com/./src/components/CycleText.jsx","webpack://rileyjshaw.com/./src/components/GoUp.jsx","webpack://rileyjshaw.com/./src/components/TextGrid.jsx","webpack://rileyjshaw.com/./src/components/doodles/BackgroundGenerator.jsx","webpack://rileyjshaw.com/./src/components/doodles/CircleConstrainedLines.jsx","webpack://rileyjshaw.com/./src/components/doodles/GameOver.jsx","webpack://rileyjshaw.com/./src/components/doodles/Riot.jsx","webpack://rileyjshaw.com/./src/icons/Repeat.jsx","webpack://rileyjshaw.com/./src/util/ContentTypes.jsx","webpack://rileyjshaw.com/./src/util/format-props.mjs","webpack://rileyjshaw.com/./src/util/all-projects-query.mjs","webpack://rileyjshaw.com/./src/util/sorting-methods.js"],"sourcesContent":["import Repeat from '../icons/Repeat';\nimport {shuffle} from '../util/sorting-methods';\nimport AutoLink from './AutoLink';\nimport './BigQuote.css';\nimport {graphql, useStaticQuery} from 'gatsby';\nimport React, {useState} from 'react';\n\nfunction BigQuote({quoteId, showRefreshButton = true}) {\n\tconst {\n\t\tallCombinedQuotesJson: {nodes: quotes},\n\t} = useStaticQuery(graphql`\n\t\t{\n\t\t\tallCombinedQuotesJson {\n\t\t\t\tnodes {\n\t\t\t\t\tuid\n\t\t\t\t\tcontent\n\t\t\t\t\tauthor\n\t\t\t\t\tsource\n\t\t\t\t\tcite\n\t\t\t\t\trelatedLink\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t`);\n\n\tconst [shuffledQuotes] = useState(shuffle(quotes));\n\tconst [quoteIndex, setQuoteIndex] = useState(\n\t\tMath.max(\n\t\t\t0,\n\t\t\tshuffledQuotes.findIndex(({uid}) => uid === quoteId),\n\t\t),\n\t);\n\tconst quote = shuffledQuotes[quoteIndex];\n\tconst {content, cite} = quote;\n\tlet {source, author} = quote;\n\tif (source) {\n\t\tsource = (\n\t\t\t<>\n\t\t\t\t“<cite>{source}</cite>”\n\t\t\t</>\n\t\t);\n\t\tif (cite) {\n\t\t\tsource = <AutoLink to={cite}>{source}</AutoLink>;\n\t\t}\n\t\tif (author) {\n\t\t\tsource = (\n\t\t\t\t<>\n\t\t\t\t\t– {author}, {source}\n\t\t\t\t</>\n\t\t\t);\n\t\t}\n\t} else if (author) {\n\t\tif (cite) {\n\t\t\tauthor = <AutoLink to={cite}>{author}</AutoLink>;\n\t\t}\n\t\tsource = <>– {author}</>;\n\t}\n\tconst lines = content.split('\\n');\n\treturn (\n\t\t<div\n\t\t\tclassName={`big-quote ${showRefreshButton ? '' : 'no-refresh'}`}\n\t\t\tid={showRefreshButton && 'big-quote'}\n\t\t>\n\t\t\t<blockquote cite={cite}>\n\t\t\t\t{lines.map((line, i) => (\n\t\t\t\t\t<p key={i}>{line}</p>\n\t\t\t\t))}\n\t\t\t\t{source && <footer>{source}</footer>}\n\t\t\t</blockquote>\n\t\t\t{showRefreshButton && (\n\t\t\t\t<a\n\t\t\t\t\thref=\"#big-quote\"\n\t\t\t\t\taria-label=\"Load new quote\"\n\t\t\t\t\tclassName=\"refresh\"\n\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\tsetQuoteIndex(\n\t\t\t\t\t\t\tprevIndex => (prevIndex + 1) % quotes.length,\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t<Repeat />\n\t\t\t\t</a>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport default BigQuote;\n","import contentTypes from '../util/ContentTypes';\nimport {useRect} from '../util/hooks';\nimport AutoLink, {ExternalLink} from './AutoLink';\nimport './ContentNode.css';\nimport cn from 'cnz';\nimport React from 'react';\n\n// TODO: Break this component and the grid fitting component out into separate\n//       files.\n// Each content type needs:\n//   \"uid\":\n//   \"type\":\n//   \"title\":\n//   \"date\":\nexport default React.memo(\n\tReact.forwardRef(function ContentNode(props, ref) {\n\t\tconst {\n\t\t\tEl = 'div',\n\t\t\ttype,\n\t\t\ttitle,\n\t\t\tdate,\n\t\t\tlink,\n\t\t\trepo,\n\t\t\tuid,\n\t\t\ttags,\n\t\t\tDoodle,\n\t\t\t// Warning: `masonry` cannot change within the component’s lifetime.\n\t\t\tmasonry,\n\t\t\thidden,\n\t\t} = props;\n\n\t\tif (type === 'doodle') return <Doodle ref={ref} {...props} />;\n\n\t\tconst contentType = contentTypes[type];\n\t\tif (!contentType) return null;\n\t\tconst {className = '', readableType, shortType, Inner} = contentType;\n\n\t\tlet innerRef, innerRect, span;\n\t\tif (masonry) {\n\t\t\t[innerRef, innerRect] = useRect();\n\t\t\t// Inner: Math.ceil((height + 27) / (27 * 2))\n\t\t\t//                            ^ \"+ 27\" accounts for height falling within gap.\n\t\t\t//     (27 * 2) is the row + gap height ^\n\t\t\t// With outer padding: Math.ceil((height + 27 + 46) / (27 * 2))\n\t\t\t//                    = Math.ceil(height / 54) + 1\n\t\t\t// TODO(riley): Was this with the new design system.\n\t\t\t// const span = height && Math.ceil((height + 19) / 54) + 1;\n\t\t\tspan = innerRect && Math.ceil((innerRect.height + 82) / 130);\n\t\t}\n\n\t\treturn (\n\t\t\t<El\n\t\t\t\tclassName={cn(\n\t\t\t\t\t'content-node',\n\t\t\t\t\tclassName,\n\t\t\t\t\ttype\n\t\t\t\t\t\t.split(/(?=[A-Z])/)\n\t\t\t\t\t\t.join('-')\n\t\t\t\t\t\t.toLowerCase(),\n\t\t\t\t\tmasonry && (innerRect ? 'measured' : 'transparent'),\n\t\t\t\t\thidden && 'visually-hidden',\n\t\t\t\t)}\n\t\t\t\tkey={uid}\n\t\t\t\tref={ref}\n\t\t\t\tstyle={span && masonry ? {gridRowEnd: `span ${span}`} : null}\n\t\t\t>\n\t\t\t\t{/* Note: might be able to make this more semantic. Sources:\n\t\t\thttps://stackoverflow.com/questions/12866008/html5-semantic-markup-for-blog-post-tags-and-categories\n\t\t\thttps://html.spec.whatwg.org/multipage/links.html#link-type-tag */}\n\t\t\t\t<div className=\"inner\" ref={innerRef}>\n\t\t\t\t\t<div className=\"content-type\">\n\t\t\t\t\t\t{shortType ?? readableType}\n\t\t\t\t\t</div>\n\t\t\t\t\t<header>\n\t\t\t\t\t\t{link ? (\n\t\t\t\t\t\t\t<h1>\n\t\t\t\t\t\t\t\t<AutoLink\n\t\t\t\t\t\t\t\t\tto={link}\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{__html: title}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<h1 dangerouslySetInnerHTML={{__html: title}} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<div className=\"subheading\">\n\t\t\t\t\t\t\t<time dateTime={date}>\n\t\t\t\t\t\t\t\t{date.replace(/-/g, '.')}\n\t\t\t\t\t\t\t</time>\n\t\t\t\t\t\t\t{repo && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t\t• From repository{' '}\n\t\t\t\t\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\t\t\t\t\tto={`https://github.com/${repo}`}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{repo}\n\t\t\t\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</header>\n\t\t\t\t\t<Inner {...props} />\n\t\t\t\t\t{tags && (\n\t\t\t\t\t\t<footer>\n\t\t\t\t\t\t\t<ul className=\"tags\">\n\t\t\t\t\t\t\t\t{tags.map(tag => (\n\t\t\t\t\t\t\t\t\t<li key={tag}>{tag}</li>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</footer>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</El>\n\t\t);\n\t}),\n);\n\n/*\ncase 'project':\n\tif (node.tags.includes('starred')) className = 'span-2';\n*/\n","import './ContentGrid.css';\nimport ContentNode from './ContentNode';\nimport {SettingsContext} from './SettingsProvider';\nimport React, {useContext} from 'react';\n\nexport default React.memo(\n\t({nodes, hiddenNodes = [], masonry, lazyLoadRef}) => {\n\t\tconst {theme, blockEmbeds} = useContext(SettingsContext);\n\t\treturn (\n\t\t\t<ul className={`content-grid${masonry ? ' masonry' : ''}`}>\n\t\t\t\t{nodes.map((node, i, {length}) => (\n\t\t\t\t\t<ContentNode\n\t\t\t\t\t\ttheme={theme}\n\t\t\t\t\t\tEl=\"li\"\n\t\t\t\t\t\tblockEmbeds={blockEmbeds}\n\t\t\t\t\t\tmasonry={masonry}\n\t\t\t\t\t\tref={i === length - 1 ? lazyLoadRef : null}\n\t\t\t\t\t\tkey={node.uid}\n\t\t\t\t\t\t{...node}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t\t{hiddenNodes.map(node => (\n\t\t\t\t\t<ContentNode\n\t\t\t\t\t\ttheme={theme}\n\t\t\t\t\t\tEl=\"li\"\n\t\t\t\t\t\tblockEmbeds={blockEmbeds}\n\t\t\t\t\t\thidden={true}\n\t\t\t\t\t\tkey={node.uid}\n\t\t\t\t\t\t{...node}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t);\n\t},\n);\n","import {useInterval, useViewport} from '../util/hooks';\nimport TextGrid from './TextGrid';\nimport React, {useState} from 'react';\n\n/* Fun strings:\n▁▂▃▅▆▇▇▆▅▃▂▁\n➬➱➯➫–\n◯⦿◉◎\n○⊙⊚⦾⊛◌ ◌\n▙▛▜▟\n*/\n\n// HACK(riley): We potentially have two different useViewport refs on this\n//              component: one for pausing the animation, and one for checking\n//              scroll position for lazy loading. I'm attaching both to the\n//              root element for now, but there's gotta be a nicer way to do\n//              this.\nconst mergeRefs = (...refs) => {\n\tconst filteredRefs = refs.filter(Boolean);\n\tif (!filteredRefs.length) return null;\n\tif (filteredRefs.length === 1) return filteredRefs[0];\n\treturn el => {\n\t\tfilteredRefs.forEach(ref => {\n\t\t\tif (typeof ref === 'function') {\n\t\t\t\tref(el);\n\t\t\t} else {\n\t\t\t\tref.current = el;\n\t\t\t}\n\t\t});\n\t};\n};\n\nexport default React.forwardRef(\n\t(\n\t\t{\n\t\t\tchildren: text,\n\t\t\tms = 300,\n\t\t\tsize = [1, 1],\n\t\t\tclassPrefix = 'cycle-text',\n\t\t\tclassName = '',\n\t\t\tOuterElement = 'div',\n\t\t\t...rest\n\t\t},\n\t\tpassedRef,\n\t) => {\n\t\tconst [xSize, ySize] = size;\n\t\tconst n = xSize * ySize;\n\t\tconst [index, setIndex] = useState(0);\n\t\tconst [ref, inView] = useViewport();\n\t\tuseInterval(() => setIndex(index + 1), inView ? ms : null);\n\n\t\tif (n === 1)\n\t\t\treturn (\n\t\t\t\t<OuterElement\n\t\t\t\t\tref={mergeRefs(passedRef, ref)}\n\t\t\t\t\tclassName={`${className} ${classPrefix}-item`}\n\t\t\t\t\t{...rest}\n\t\t\t\t>\n\t\t\t\t\t{text[index % text.length]}\n\t\t\t\t</OuterElement>\n\t\t\t);\n\n\t\treturn (\n\t\t\t<TextGrid\n\t\t\t\tsize={size}\n\t\t\t\tclassPrefix={classPrefix}\n\t\t\t\tclassName={className}\n\t\t\t\tref={mergeRefs(passedRef, ref)}\n\t\t\t\tOuterElement={OuterElement}\n\t\t\t\t{...rest}\n\t\t\t>\n\t\t\t\t{Array.from(\n\t\t\t\t\t{length: n},\n\t\t\t\t\t(_, i) =>\n\t\t\t\t\t\ttext[\n\t\t\t\t\t\t\tMath.floor(index / Math.pow(text.length, i)) %\n\t\t\t\t\t\t\t\ttext.length\n\t\t\t\t\t\t],\n\t\t\t\t).join('')}\n\t\t\t</TextGrid>\n\t\t);\n\t},\n);\n","import CycleText from '../components/CycleText';\nimport './GoUp.css';\nimport React from 'react';\n\nexport default () => (\n\t<div className=\"go-up\">\n\t\t<CycleText\n\t\t\tms={150}\n\t\t\tOuterElement=\"span\"\n\t\t\tonClick={() => {\n\t\t\t\twindow.scrollTo(0, 0);\n\t\t\t\tconst title = document.getElementById('page-header');\n\t\t\t\ttitle.focus({preventScroll: true});\n\t\t\t}}\n\t\t>\n\t\t\t➫➯➱➬–\n\t\t</CycleText>\n\t</div>\n);\n","import React from 'react';\n\nexport default React.forwardRef(\n\t(\n\t\t{\n\t\t\tchildren,\n\t\t\tsize: [xSize, ySize],\n\t\t\tclassPrefix = 'text-grid',\n\t\t\tclassName = '',\n\t\t\tOuterElement = 'div',\n\t\t\t...rest\n\t\t},\n\t\tref,\n\t) => (\n\t\t<OuterElement\n\t\t\tclassName={`${className} ${classPrefix}-grid`}\n\t\t\tstyle={{\n\t\t\t\tdisplay: 'grid',\n\t\t\t\tgridTemplate: `repeat(${ySize}, 1fr) / repeat(${xSize}, 1fr)`,\n\t\t\t}}\n\t\t\t{...rest}\n\t\t\tref={ref}\n\t\t>\n\t\t\t{children.split('').map((letter, i) => (\n\t\t\t\t<span\n\t\t\t\t\tclassName={`${classPrefix}-item`}\n\t\t\t\t\tkey={`${children}-${i}`}\n\t\t\t\t>\n\t\t\t\t\t{letter}\n\t\t\t\t</span>\n\t\t\t))}\n\t\t</OuterElement>\n\t),\n);\n","import {getThemeColor, randSequence, lcm} from '../../util/util';\nimport {withSettings} from '../SettingsProvider';\nimport './BackgroundGenerator.css';\nimport React, {useState, useEffect, useMemo} from 'react';\n\nconst minWidth = 100; // Tiling width. Height is calculated dynamically.\nconst maxWidth = 200;\nconst minSequenceLength = 20; // Bigger numbers = more complex patterns.\nconst maxSequenceLength = 200;\n\n// For these backgrounds to tile properly, each subsequent column needs to be\n// shifted up by 1px. CSS doesn't currently support that, so we do it in\n// canvas. A max canvas width is set here so we don't go completely out of\n// control when there's a tall repeating pattern. \"Seamless\" mode can be set\n// to ensure a height over maxTiles is never reached, so it ensures a\n// perfectly tiling pattern.\nconst maxTiledWidth = 10000;\n\nconst defaultProps = {\n\twidth: minWidth + Math.floor(Math.random() * (maxWidth - minWidth) + 1),\n\tzoom: 6, // I think it looks better a bit chunky like this.\n\tdark: 'fg',\n\tlight: 'bg',\n\tseamless: true,\n\tEl: 'div',\n};\n\nconst getState = (\n\tprops,\n\tcDark,\n\tcLight,\n\tthemeBias,\n\tcanvas = document.createElement('canvas'),\n\ttiledCanvas = document.createElement('canvas'),\n) => {\n\tconst {width, seamless} = {\n\t\t...defaultProps,\n\t\t...props,\n\t};\n\tconst maxTiles = Math.floor(maxTiledWidth / width);\n\n\tlet size, height, sequence;\n\tdo {\n\t\tsequence = randSequence(\n\t\t\tminSequenceLength,\n\t\t\tmaxSequenceLength,\n\t\t\tthemeBias,\n\t\t);\n\t\tsize = lcm(width, sequence.length);\n\t\theight = size / width;\n\t} while (seamless && height > maxTiles);\n\n\tcanvas.width = width;\n\tcanvas.height = height;\n\n\tconst ctx = canvas.getContext('2d');\n\tconst tiledCtx = tiledCanvas.getContext('2d');\n\n\t// Create a single tile on the canvas.\n\tfor (let i = 0; i < size; ++i) {\n\t\tconst x = i % width;\n\t\tconst y = Math.floor(i / width);\n\t\tctx.fillStyle = sequence[i % sequence.length] ? cDark : cLight;\n\t\tctx.fillRect(x, y, 1, 1);\n\t}\n\n\t// Tile the initial canvas onto a wider canvas to ensure x-axis tiling.\n\tconst nTiles = Math.min(maxTiles, height);\n\ttiledCanvas.width = width * nTiles;\n\ttiledCanvas.height = height;\n\tfor (let i = 0; i < nTiles; ++i) {\n\t\tlet offset = -i;\n\t\tdo {\n\t\t\ttiledCtx.drawImage(canvas, i * width, offset);\n\t\t\toffset += height;\n\t\t} while (offset <= height);\n\t}\n\n\treturn [canvas, tiledCanvas, nTiles, height];\n};\n\nconst BackgroundGenerator = React.forwardRef(function BackgroundGenerator(\n\t{settings: {theme}, ...props},\n\tref,\n) {\n\tconst {width, zoom, dark, light, El, className} = {\n\t\t...defaultProps,\n\t\t...props,\n\t};\n\tconst themeBias = theme === 'light' ? 0.65 : 0.45; // 0: light | 1: dark\n\tconst cDark = useMemo(() => getThemeColor(theme)(dark)(), [dark, theme]);\n\tconst cLight = useMemo(\n\t\t() => getThemeColor(theme)(light)(),\n\t\t[light, theme],\n\t);\n\tconst [[canvas, tiledCanvas, nTiles, height], setState] = useState([]);\n\tconst [clicked, setClicked] = useState(false);\n\tuseEffect(() => {\n\t\tsetState(\n\t\t\tgetState(props, cDark, cLight, themeBias, canvas, tiledCanvas),\n\t\t);\n\t}, [cDark, cLight]);\n\n\t// Apply the wide, tileable canvas as a repeating background.\n\treturn (\n\t\t<El\n\t\t\tonClick={() => {\n\t\t\t\tsetState(\n\t\t\t\t\tgetState(\n\t\t\t\t\t\tprops,\n\t\t\t\t\t\tcDark,\n\t\t\t\t\t\tcLight,\n\t\t\t\t\t\tthemeBias,\n\t\t\t\t\t\tcanvas,\n\t\t\t\t\t\ttiledCanvas,\n\t\t\t\t\t),\n\t\t\t\t);\n\t\t\t\tif (!clicked) setClicked(true);\n\t\t\t}}\n\t\t\tclassName={`content-node doodle doodle-background-generator${\n\t\t\t\tclassName ? ` ${className}` : ''\n\t\t\t}`}\n\t\t\tstyle={\n\t\t\t\ttiledCanvas && {\n\t\t\t\t\tbackground: `${\n\t\t\t\t\t\tthemeBias > 0.5 ? cDark : cLight\n\t\t\t\t\t} left top/${width * nTiles * zoom}px ${\n\t\t\t\t\t\theight * zoom\n\t\t\t\t\t}px url(${tiledCanvas.toDataURL()}`,\n\t\t\t\t}\n\t\t\t}\n\t\t\t{...(ref?.hasOwnProperty('current') ? {ref} : {})}\n\t\t>\n\t\t\t{clicked || <span className=\"default-button\">Click?</span>}\n\t\t</El>\n\t);\n});\n\nexport default withSettings(BackgroundGenerator);\n","import {getThemeColor} from '../../util/util';\nimport {withSettings} from '../SettingsProvider';\nimport './CircleConstrainedLines.css';\nimport React, {useRef, useState, useEffect, useContext, useMemo} from 'react';\n\nconst {PI, cos, sin, pow} = Math;\nconst L = 800;\nconst R = L / 3;\n\n// Derived.\nconst C = L / 2;\n\nconst variants = [\n\t{\n\t\tgetOffset: (i, nLines) =>\n\t\t\tsin((i / nLines) * PI * 2) * cos((i / nLines) * PI * 2) * PI * 10,\n\t\tnLines: 800,\n\t\tlineWidth: 1,\n\t\tglobalCompositeOperation: 'overlay',\n\t},\n\t{\n\t\tgetOffset: (i, nLines) =>\n\t\t\tpow(sin((i / nLines) * 2 * PI) * cos((i / nLines) * 2 * PI), 2) *\n\t\t\t2 *\n\t\t\tPI *\n\t\t\t2,\n\t\tnLines: 800,\n\t\tlineWidth: 1,\n\t\tglobalCompositeOperation: 'overlay',\n\t},\n\t{\n\t\tgetOffset: (i, nLines) => (i / nLines) * 2 * PI * 1.5,\n\t\tnLines: 100,\n\t\tlineWidth: 2,\n\t\tglobalCompositeOperation: 'source-over',\n\t},\n];\n\nconst CircleConstrainedLines = React.forwardRef(\n\tfunction CircleConstrainedLines({El = 'div', settings: {theme}}, ref) {\n\t\tconst canvasRef = useRef(null);\n\t\tconst [variant, setVariant] = useState(\n\t\t\tMath.floor(Math.random() * variants.length),\n\t\t);\n\t\tconst getColor = useMemo(() => getThemeColor(theme), [theme]);\n\t\tuseEffect(() => {\n\t\t\tconst canvas = canvasRef.current;\n\t\t\tif (!canvas) return;\n\n\t\t\tconst {getOffset, nLines, lineWidth, globalCompositeOperation} =\n\t\t\t\tvariants[variant];\n\n\t\t\tconst angleStep = (2 * PI) / nLines;\n\t\t\tconst ctx = canvas.getContext('2d');\n\t\t\tctx.clearRect(0, 0, canvas.width, canvas.height);\n\t\t\tctx.beginPath();\n\t\t\tctx.globalCompositeOperation = globalCompositeOperation;\n\t\t\tctx.lineWidth = lineWidth;\n\t\t\tctx.strokeStyle = getColor('fg')();\n\t\t\tctx.fillStyle = getColor('bg', 'mute')();\n\t\t\tctx.arc(C, C, R * 1.03, 0, 2 * PI);\n\t\t\tctx.fill();\n\n\t\t\tctx.beginPath();\n\t\t\tctx.arc(C, C, R, 0, 2 * PI);\n\t\t\tctx.stroke();\n\n\t\t\tfor (let i = 0; i < nLines; ++i) {\n\t\t\t\tconst offset = getOffset(i, nLines);\n\t\t\t\tconst angle = i * angleStep;\n\t\t\t\tconst x1 = cos(angle) * R;\n\t\t\t\tconst y1 = sin(angle) * R;\n\t\t\t\tconst x2 = cos(angle + offset) * R;\n\t\t\t\tconst y2 = sin(angle + offset) * R;\n\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.moveTo(C + x1, C + y1);\n\t\t\t\tctx.lineTo(C + x2, C + y2);\n\t\t\t\tctx.stroke();\n\t\t\t}\n\t\t}, [variant, theme]);\n\t\treturn (\n\t\t\t<El\n\t\t\t\t{...(ref?.hasOwnProperty('current') ? {ref} : {})}\n\t\t\t\tclassName=\"content-node doodle doodle-constrained-lines\"\n\t\t\t>\n\t\t\t\t<canvas\n\t\t\t\t\theight={L}\n\t\t\t\t\twidth={L}\n\t\t\t\t\tref={canvasRef}\n\t\t\t\t\tonClick={() => setVariant(v => (v + 1) % variants.length)}\n\t\t\t\t/>\n\t\t\t</El>\n\t\t);\n\t},\n);\n\nexport default withSettings(CircleConstrainedLines);\n","import {useKeyPresses, useTypedText} from '../../util/hooks';\nimport './GameOver.css';\nimport React, {useCallback, useEffect, useRef, useState} from 'react';\n\nconst textOptions = {\n\tloading: 'Loading…',\n\twin: 'You win',\n};\n\nfunction GameOver(_, ref) {\n\tconst activeTimeout = useRef(null);\n\tconst [gameState, setGameState] = useState('game-over');\n\tconst mainText =\n\t\tuseTypedText(textOptions[gameState] ?? 'Game over', {delay: 30}) ||\n\t\t'\\u00A0';\n\tuseEffect(() => {\n\t\tactiveTimeout.current = setTimeout(() => {\n\t\t\tsetGameState('play-again');\n\t\t}, 1800);\n\t\treturn () => clearTimeout(activeTimeout.current);\n\t}, []);\n\tconst clickYes = useCallback(() => {\n\t\tsetGameState('loading');\n\t\tclearTimeout(activeTimeout.current);\n\t\tactiveTimeout.current = setTimeout(() => {\n\t\t\tsetGameState('game-over');\n\t\t\tactiveTimeout.current = setTimeout(\n\t\t\t\t() => setGameState('play-again'),\n\t\t\t\t1800,\n\t\t\t);\n\t\t}, 2400);\n\t}, []);\n\tconst clickNo = useCallback(() => {\n\t\tclearTimeout(activeTimeout.current);\n\t\tsetGameState('win');\n\t}, []);\n\tuseKeyPresses({y: {onDown: clickYes}, n: {onDown: clickNo}});\n\tconst playAgain = gameState === 'play-again';\n\treturn (\n\t\t<div\n\t\t\t{...(ref?.hasOwnProperty('current') ? {ref} : {})}\n\t\t\tclassName=\"content-node doodle doodle-game-over\"\n\t\t>\n\t\t\t<p className=\"main-text\">{mainText}</p>\n\t\t\t<p\n\t\t\t\taria-hidden={!playAgain}\n\t\t\t\tclassName={`play-again${playAgain ? ' show' : ''}`}\n\t\t\t>\n\t\t\t\tPlay again?{' '}\n\t\t\t\t<button disabled={!playAgain} onClick={clickYes}>\n\t\t\t\t\tY\n\t\t\t\t</button>\n\t\t\t\t{' / '}\n\t\t\t\t<button disabled={!playAgain} onClick={clickNo}>\n\t\t\t\t\tN\n\t\t\t\t</button>\n\t\t\t</p>\n\t\t</div>\n\t);\n}\n\nexport default GameOver;\n","import {useViewport, useRect} from '../../util/hooks';\nimport './Riot.css';\nimport React, {useMemo} from 'react';\n\nfunction Riot(_, ref) {\n\tconst [riotRef, _inView, boundingClientRect, windowHeight = 0] =\n\t\tuseViewport({updateOnScroll: true});\n\tconst [oRef, oBoundingClientRect] = useRect();\n\tlet factor = boundingClientRect\n\t\t? (1 -\n\t\t\t\tboundingClientRect.top /\n\t\t\t\t\t(windowHeight - boundingClientRect.height) -\n\t\t\t\t0.5) *\n\t\t  2\n\t\t: 0;\n\tif (factor) factor *= Math.sqrt(Math.abs(factor));\n\n\tconst transformOrigin = useMemo(\n\t\t() =>\n\t\t\toBoundingClientRect\n\t\t\t\t? [\n\t\t\t\t\t\t(oBoundingClientRect.left +\n\t\t\t\t\t\t\toBoundingClientRect.width / 2 -\n\t\t\t\t\t\t\tboundingClientRect.left) /\n\t\t\t\t\t\t\tboundingClientRect.width,\n\t\t\t\t\t\t(oBoundingClientRect.top +\n\t\t\t\t\t\t\toBoundingClientRect.height / 2 -\n\t\t\t\t\t\t\tboundingClientRect.top) /\n\t\t\t\t\t\t\tboundingClientRect.height,\n\t\t\t\t  ]\n\t\t\t\t: [0.5, 0.5],\n\t\t[oBoundingClientRect],\n\t);\n\n\treturn (\n\t\t<div\n\t\t\t{...(ref?.hasOwnProperty('current') ? {ref} : {})}\n\t\t\tclassName=\"content-node doodle doodle-riot\"\n\t\t>\n\t\t\t{Array.from({length: 6}, (_, i) => (\n\t\t\t\t<p\n\t\t\t\t\tref={i ? null : riotRef}\n\t\t\t\t\tkey={`riot-${i}`}\n\t\t\t\t\tclassName=\"riot-overlay\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\ttransformOrigin: transformOrigin\n\t\t\t\t\t\t\t.map(p => `${p * 100}%`)\n\t\t\t\t\t\t\t.join(' '),\n\t\t\t\t\t\ttransform: `translate(-50%, -50%) rotate(${\n\t\t\t\t\t\t\ti * factor * 30\n\t\t\t\t\t\t}deg)`,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tRI<span ref={i ? null : oRef}>O</span>T!\n\t\t\t\t</p>\n\t\t\t))}\n\t\t</div>\n\t);\n}\n\nexport default Riot;\n","import * as React from 'react';\n\nconst SvgRepeat = props => (\n\t<svg\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tviewBox=\"0 0 100 100\"\n\t\twidth=\"1em\"\n\t\theight=\"1em\"\n\t\tfill=\"currentColor\"\n\t\t{...props}\n\t>\n\t\t<path d=\"M93.748 50.034c0-.039.007-.076.007-.114h-.012C93.659 27.442 75.352 9.18 52.852 9.18v17.683c12.79 0 23.194 10.391 23.216 23.17-.059 12.558-10.144 22.769-22.643 23.078-11.699-.287-21.277-9.273-22.483-20.742h9.335L22.015 34.114 3.755 52.369h9.494c1.254 21.028 18.419 37.801 39.603 38.392v.06c.192 0 .381-.026.573-.03.193.004.38.03.573.03v-.06c21.971-.613 39.664-18.595 39.75-40.687h.003c0-.014-.003-.028-.003-.04z\" />\n\t</svg>\n);\nexport default SvgRepeat;\n","import AutoLink, {ExternalLink} from '../components/AutoLink';\nimport React, {useState} from 'react';\n\nconst BlockEmbedButton = ({type, onClick}) => (\n\t<button className=\"block-embed-button default-button\" onClick={onClick}>\n\t\tLoad embedded media{type ? ` (${type})` : ''}\n\t</button>\n);\n\nexport const TitleOnly = () => null;\nexport const ProjectContent = ({descriptionList}) =>\n\tdescriptionList && (\n\t\t<main>\n\t\t\t{descriptionList.map((d, i) => (\n\t\t\t\t<p key={i} dangerouslySetInnerHTML={{__html: d}} />\n\t\t\t))}\n\t\t</main>\n\t);\nexport const PostContent = ({description, link, more}) =>\n\tdescription ? (\n\t\t<main>\n\t\t\t<div\n\t\t\t\tclassName={more ? 'excerpt' : null}\n\t\t\t\tdangerouslySetInnerHTML={{__html: description}}\n\t\t\t/>\n\t\t\t{more && (\n\t\t\t\t<p className=\"continue-reading\">\n\t\t\t\t\t<AutoLink to={link}>Continue reading</AutoLink>\n\t\t\t\t</p>\n\t\t\t)}\n\t\t</main>\n\t) : null;\nexport const ArenaChannelContent = ({description, length, updatedAt}) => (\n\t<main>\n\t\t{description && <p>{description}</p>}\n\t\t<p>\n\t\t\tAn Are.na channel with {length} blocks. Last updated{' '}\n\t\t\t{updatedAt.slice(0, 10)}.\n\t\t</p>\n\t</main>\n);\nexport const IconContent = ({image, title}) => (\n\t<main>\n\t\t<img\n\t\t\tsrc={image.url}\n\t\t\twidth={image.width}\n\t\t\theight={image.height}\n\t\t\talt={`${title} icon`}\n\t\t/>\n\t</main>\n);\nexport const DweetContent = ({title, blockEmbeds}) => {\n\tconst [showEmbed, setShowEmbed] = useState(false);\n\n\treturn (\n\t\t<div className=\"dweet-content\">\n\t\t\t{!blockEmbeds || showEmbed ? (\n\t\t\t\t<iframe\n\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\theight=\"100%\"\n\t\t\t\t\tframeBorder=\"0\"\n\t\t\t\t\tsrc={`https://www.dwitter.net/e/${title.slice(1)}`}\n\t\t\t\t\tallowFullScreen=\"true\"\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<BlockEmbedButton\n\t\t\t\t\ttype=\"Dwitter\"\n\t\t\t\t\tonClick={() => setShowEmbed(true)}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</div>\n\t);\n};\nexport const PatchContent = ({description, link}) => (\n\t<main>\n\t\t{description?.slice(-3) === '...' ? (\n\t\t\t<p>\n\t\t\t\t{description}{' '}\n\t\t\t\t<ExternalLink to={link}>\n\t\t\t\t\tread the full description on Patchstorage\n\t\t\t\t</ExternalLink>\n\t\t\t</p>\n\t\t) : (\n\t\t\t<p>{description}</p>\n\t\t)}\n\t</main>\n);\nexport const SongContent = ({title, uid, blockEmbeds}) => {\n\tconst [showEmbed, setShowEmbed] = useState(false);\n\n\treturn (\n\t\t<div className=\"song-content\">\n\t\t\t{!blockEmbeds || showEmbed ? (\n\t\t\t\t<iframe\n\t\t\t\t\ttitle={`An embedded song called \"${title}\"`}\n\t\t\t\t\tclassName=\"soundcloud\"\n\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\theight=\"100\"\n\t\t\t\t\tscrolling=\"no\"\n\t\t\t\t\tframeBorder=\"no\"\n\t\t\t\t\tsrc={`https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/${uid.slice(\n\t\t\t\t\t\tuid.indexOf('_') + 1,\n\t\t\t\t\t)}&color=%23000000&auto_play=false&hide_related=true&show_comments=false&show_user=false&show_reposts=false&show_teaser=true`}\n\t\t\t\t></iframe>\n\t\t\t) : (\n\t\t\t\t<BlockEmbedButton\n\t\t\t\t\ttype=\"SoundCloud\"\n\t\t\t\t\tonClick={() => setShowEmbed(true)}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</div>\n\t);\n};\nexport const VideoContent = ({\n\tblockEmbeds,\n\tbody,\n\tcontentType,\n\tdescription,\n\ttitle,\n\timage,\n\tlink,\n\tmore,\n}) => {\n\tconst [showEmbed, setShowEmbed] = useState(false);\n\n\treturn (\n\t\t<main>\n\t\t\t<div className=\"video-embed\">\n\t\t\t\t{!blockEmbeds || showEmbed ? (\n\t\t\t\t\t{\n\t\t\t\t\t\tvimeo: body && (\n\t\t\t\t\t\t\t<div dangerouslySetInnerHTML={{__html: body}} />\n\t\t\t\t\t\t),\n\t\t\t\t\t\tyoutube: (\n\t\t\t\t\t\t\t<iframe\n\t\t\t\t\t\t\t\ttitle={`An embedded video called \"${title}\"`}\n\t\t\t\t\t\t\t\tallowFullScreen\n\t\t\t\t\t\t\t\tframeBorder=\"0\"\n\t\t\t\t\t\t\t\tsrc={`https://www.youtube-nocookie.com/embed/${body}`}\n\t\t\t\t\t\t\t></iframe>\n\t\t\t\t\t\t),\n\t\t\t\t\t}[contentType]\n\t\t\t\t) : (\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tbackgroundImage: `url(${image.url})`,\n\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\t\tright: 0,\n\t\t\t\t\t\t\tbottom: 0,\n\t\t\t\t\t\t\tbackgroundSize: 'cover',\n\t\t\t\t\t\t\tbackgroundPosition: 'center',\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<BlockEmbedButton\n\t\t\t\t\t\t\ttype={\n\t\t\t\t\t\t\t\tcontentType === 'vimeo' ? 'Vimeo' : 'YouTube'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tonClick={() => setShowEmbed(true)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t{description && (\n\t\t\t\t<>\n\t\t\t\t\t<p>{description}</p>\n\t\t\t\t\t{more && (\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<ExternalLink to={link}>\n\t\t\t\t\t\t\t\tRead the full description on{' '}\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tvimeo: 'Vimeo',\n\t\t\t\t\t\t\t\t\t\tyoutube: 'YouTube',\n\t\t\t\t\t\t\t\t\t}[contentType]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t)}\n\t\t\t\t</>\n\t\t\t)}\n\t\t</main>\n\t);\n};\nexport const ScreenshotContent = ({body, link, contentType, extraData}) => {\n\tlet innerContent;\n\tswitch (contentType) {\n\t\tcase 'photo':\n\t\t\t// TODO: If embeds are turned off, make innerContent something like:\n\t\t\t// <ExternalLink to={link}>See ${extraData[2]} images</ExternalLink>\n\t\t\tinnerContent = (\n\t\t\t\t<>\n\t\t\t\t\t<ExternalLink className=\"image-link\" to={link}>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\theight={extraData[1]}\n\t\t\t\t\t\t\tsrc={body}\n\t\t\t\t\t\t\twidth={extraData[0]}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t{extraData[2] > 1 && (\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<ExternalLink to={link}>\n\t\t\t\t\t\t\t\t+ {extraData[2] - 1} more images\n\t\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t)}\n\t\t\t\t</>\n\t\t\t);\n\t\t\tbreak;\n\t\tcase 'video':\n\t\t\tinnerContent = (\n\t\t\t\t<video\n\t\t\t\t\tautoPlay\n\t\t\t\t\tcontrols\n\t\t\t\t\theight={extraData[1] || 'auto'}\n\t\t\t\t\tloop\n\t\t\t\t\tmuted\n\t\t\t\t\tsrc={body}\n\t\t\t\t\twidth={extraData[0]}\n\t\t\t\t/>\n\t\t\t);\n\t\t\tbreak;\n\t\tcase 'audio':\n\t\t\tinnerContent = <audio controls preload=\"none\" src={body} />;\n\t\t\tbreak;\n\t}\n\treturn <main className=\"screenshot-content\">{innerContent}</main>;\n};\n\nexport default {\n\tdoodle: {\n\t\treadableType: 'Doodle',\n\t},\n\tdweet: {\n\t\tclassName: 'span-5',\n\t\treadableType: 'Dweet',\n\t\tInner: DweetContent,\n\t},\n\tpatch: {\n\t\tclassName: 'span-4',\n\t\treadableType: 'Patchstorage module',\n\t\tshortType: 'Patch',\n\t\tInner: PatchContent,\n\t},\n\tproject: {\n\t\tclassName: 'span-4',\n\t\treadableType: 'Project',\n\t\tInner: ProjectContent,\n\t},\n\tpost: {\n\t\tclassName: 'span-6',\n\t\treadableType: 'Blog post',\n\t\tInner: PostContent,\n\t},\n\tarenaChannel: {\n\t\tclassName: 'span-3',\n\t\treadableType: 'Are.na channel',\n\t\tInner: ArenaChannelContent,\n\t},\n\ticon: {\n\t\tclassName: 'span-3',\n\t\treadableType: 'Icon',\n\t\tInner: IconContent,\n\t},\n\tcommit: {\n\t\tclassName: 'span-6',\n\t\treadableType: 'Commit blog post',\n\t\tInner: PostContent,\n\t},\n\ttumblr: {\n\t\tclassName: 'span-6',\n\t\treadableType: 'SFPC blog post',\n\t\tInner: PostContent,\n\t},\n\tscreenshotsTumblr: {\n\t\tclassName: 'span-3',\n\t\treadableType: 'Screenshot',\n\t\tInner: ScreenshotContent,\n\t},\n\tsong: {\n\t\tclassName: 'span-5',\n\t\treadableType: 'Song',\n\t\tInner: SongContent,\n\t},\n\tvideo: {\n\t\tclassName: 'span-4',\n\t\treadableType: 'Video',\n\t\tInner: VideoContent,\n\t},\n};\n","const formatters = {\n\tpost: function formatPost(node) {\n\t\t// Move all `fields` properties to the top level and sort tags.\n\t\tconst {\n\t\t\tfields: {slug, ...fields},\n\t\t\tfrontmatter,\n\t\t\t...rest\n\t\t} = node;\n\t\treturn {\n\t\t\t...fields,\n\t\t\t...rest,\n\t\t\tfrontmatter: {\n\t\t\t\t...frontmatter,\n\t\t\t\ttags: [...(frontmatter.tags ?? [])].sort(),\n\t\t\t},\n\t\t\ttype: 'post',\n\t\t\tlink: slug,\n\t\t\ttags: ['instructional'],\n\t\t};\n\t},\n};\n\nexport default function formatProps(props) {\n\tconst formatter = formatters[props.type];\n\treturn formatter ? formatter(props) : props;\n}\n","import formatProps from './format-props.mjs';\nimport {useStaticQuery, graphql} from 'gatsby';\n\nexport function format({\n\tallMdx: {nodes: posts} = {nodes: []},\n\tallCombinedProjectsJson: {nodes: projects} = {nodes: []},\n}) {\n\treturn [\n\t\t...posts.map(p => ({\n\t\t\t...p,\n\t\t\ttype: 'post',\n\t\t})),\n\t\t...projects,\n\t].map(formatProps);\n}\n\nexport default () =>\n\tformat(\n\t\tuseStaticQuery(graphql`{\n\tallMdx(\n\t\tfilter: {internal: {contentFilePath: {regex: \"//data/markdown/posts/.*\\\\.mdx?$/\"}}}\n\t\tsort: {fields: {date: DESC}}\n\t) {\n\t\tnodes {\n\t\t\tmore\n\t\t\tdescription\n\t\t\tfrontmatter {\n\t\t\t\tlayout\n\t\t\t\ttags\n\t\t\t}\n\t\t\tfields {\n\t\t\t\tuid\n\t\t\t\tslug\n\t\t\t\ttitle\n\t\t\t\tdate(formatString: \"YYYY-MM-DD\")\n\t\t\t}\n\t\t}\n\t}\n\tallCombinedProjectsJson {\n\t\tnodes {\n\t\t\tuid\n\t\t\ttype\n\t\t\ttitle\n\t\t\tcoolness\n\t\t\tdate\n\t\t\tlink\n\t\t\tdescription\n\t\t\tdescriptionList\n\t\t\ttags\n\t\t\trepo\n\t\t\tupdatedAt\n\t\t\tlength\n\t\t\tcontentType\n\t\t\tbody\n\t\t\timage {\n\t\t\t\theight\n\t\t\t\twidth\n\t\t\t\turl\n\t\t\t}\n\t\t\tmore\n\t\t\textraData\n\t\t}\n\t}\n}`),\n\t);\n","export function shuffle(nodes) {\n\tconst shuffled = [...nodes];\n\tfor (let i = shuffled.length - 1; i > 0; --i) {\n\t\tlet j = Math.floor(Math.random() * (i + 1));\n\t\t[shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];\n\t}\n\treturn shuffled;\n}\n\nexport function sortByCoolness(nodes) {\n\treturn [...nodes].sort(({coolness: a = -1}, {coolness: b = -1}) => b - a);\n}\n\nexport function sortByDate(nodes) {\n\treturn [...nodes].sort((a, b) => b.date.localeCompare(a.date));\n}\n\nexport function sortByName(nodes) {\n\treturn [...nodes].sort((a, b) => a.title.localeCompare(b.title));\n}\n\nexport default [\n\t{\n\t\ttitle: 'date',\n\t\tsortFn: sortByDate,\n\t},\n\t{\n\t\ttitle: 'name',\n\t\tsortFn: sortByName,\n\t},\n\t{\n\t\ttitle: 'coolness',\n\t\tsortFn: sortByCoolness,\n\t},\n];\n"],"names":["_ref","quoteId","showRefreshButton","allCombinedQuotesJson","nodes","quotes","useStaticQuery","shuffledQuotes","useState","shuffle","quoteIndex","setQuoteIndex","Math","max","findIndex","_ref2","uid","quote","content","cite","source","author","React","AutoLink","to","lines","split","className","id","map","line","i","key","href","onClick","prevIndex","length","Repeat","props","ref","El","type","title","date","link","repo","tags","Doodle","masonry","hidden","Object","assign","contentType","contentTypes","readableType","shortType","Inner","innerRef","innerRect","span","useRect","ceil","height","cn","join","toLowerCase","style","gridRowEnd","dangerouslySetInnerHTML","__html","dateTime","replace","ExternalLink","tag","hiddenNodes","lazyLoadRef","theme","blockEmbeds","useContext","SettingsContext","node","ContentNode","mergeRefs","_len","arguments","refs","Array","_key","filteredRefs","filter","Boolean","el","forEach","current","passedRef","children","text","ms","size","classPrefix","OuterElement","rest","xSize","ySize","n","index","setIndex","inView","useViewport","useInterval","TextGrid","from","_","floor","pow","CycleText","window","scrollTo","document","getElementById","focus","preventScroll","display","gridTemplate","letter","defaultProps","width","random","zoom","dark","light","seamless","getState","cDark","cLight","themeBias","canvas","tiledCanvas","createElement","maxTiles","sequence","randSequence","lcm","ctx","getContext","tiledCtx","x","y","fillStyle","fillRect","nTiles","min","offset","drawImage","BackgroundGenerator","settings","useMemo","getThemeColor","setState","clicked","setClicked","useEffect","background","toDataURL","hasOwnProperty","withSettings","PI","cos","sin","L","R","C","variants","getOffset","nLines","lineWidth","globalCompositeOperation","CircleConstrainedLines","canvasRef","useRef","variant","setVariant","getColor","angleStep","clearRect","beginPath","strokeStyle","arc","fill","stroke","angle","x1","y1","x2","y2","moveTo","lineTo","v","textOptions","loading","win","_textOptions$gameStat","activeTimeout","gameState","setGameState","mainText","useTypedText","delay","setTimeout","clearTimeout","clickYes","useCallback","clickNo","useKeyPresses","onDown","playAgain","disabled","riotRef","_inView","boundingClientRect","windowHeight","updateOnScroll","oRef","oBoundingClientRect","factor","top","sqrt","abs","transformOrigin","left","p","transform","xmlns","viewBox","d","BlockEmbedButton","PostContent","_ref3","description","more","doodle","dweet","_ref6","showEmbed","setShowEmbed","frameBorder","src","slice","allowFullScreen","patch","_ref7","project","descriptionList","post","arenaChannel","_ref4","updatedAt","icon","_ref5","image","url","alt","commit","tumblr","screenshotsTumblr","_ref10","innerContent","body","extraData","autoPlay","controls","loop","muted","preload","song","_ref8","scrolling","indexOf","video","_ref9","vimeo","youtube","backgroundImage","position","right","bottom","backgroundSize","backgroundPosition","formatters","_frontmatter$tags","fields","slug","frontmatter","sort","formatProps","formatter","allMdx","posts","allCombinedProjectsJson","projects","format","shuffled","j","sortByDate","a","b","localeCompare","sortFn","coolness"],"sourceRoot":""}