(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{Hnid:function(e,t,n){},QFMt:function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),r=n.n(a),s=n("wGsi"),o=n("A3bQ"),l=n("Bl7J"),c=n("2/Wz"),i=n("rePB"),d=n("KQm4"),u=n("dI71"),f=n("Wbzz"),p=n("PjkB"),m=n("SWwi"),g=n("XWfr"),h=n("cVmz"),y=n("1N+T"),b=n("S/o2"),E=(n("xp8V"),[r.a.forwardRef((function(e,t){return r.a.createElement(y.a,Object.assign({size:[3,3],classPrefix:"doingreat",className:"content-node doodle",OuterElement:"li"},e,{ref:t}),"DOINGREAT")})),r.a.forwardRef((function(e,t){return r.a.createElement(b.a,Object.assign({classPrefix:"wavebump",className:"content-node doodle",ms:50,OuterElement:"li"},e,{ref:t}),"▁▂▃▅▆▇▇▆▅▃▂▁")})),r.a.forwardRef((function(e,t){return r.a.createElement(b.a,Object.assign({classPrefix:"droplet",className:"content-node doodle",ms:150,OuterElement:"li"},e,{ref:t}),"⊙⊚⦾⊛")})),r.a.forwardRef((function(e,t){return r.a.createElement(b.a,Object.assign({classPrefix:"circles",className:"content-node doodle",ms:100,size:[2,2],OuterElement:"li"},e,{ref:t}),"◯⦿◉◎")})),r.a.forwardRef((function(e,t){return r.a.createElement("li",Object.assign({className:"content-node snowman doodle"},e,{ref:t}),"☃")})),r.a.forwardRef((function(e,t){return r.a.createElement(b.a,Object.assign({classPrefix:"wavebump",className:"content-node tall doodle",ms:400,OuterElement:"li"},e,{ref:t}),"GrEeTiNgShUmAn")}))]),O=n("ZA8C");n("Hnid");function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=["typeStates","sortIdx","ascending","filterType","tagStates"],N=function(e){function t(t){var n;(n=e.call(this,t)||this).getNodeTypes=function(e){return void 0===e&&(e=n.state),e.nodeTypes},n.refreshDisplayNodes=function(){n.setState((function(e,t){return"undefined"!=typeof window&&w.forEach((function(t){return window.localStorage.setItem("LAB_V1_"+t,JSON.stringify(e[t]))})),{nodes:n.getDisplayNodes(e,t)}}))},n.shuffleDisplayNodes=function(){n.setState((function(e){var t=e.nodes;return{nodes:Object(p.b)(t)}}))},n.handleSortMethodChange=function(e){n.setState({sortIdx:e},n.refreshDisplayNodes)},n.handleFilterTypeChange=function(e){n.setState({filterType:e.target.value},n.refreshDisplayNodes)},n.handleTypeStateChange=function(e,t){var a=e.target.checked;n.setState((function(e){var n=e.typeStates,r=Object(d.a)(n);return r[t]=a,{typeStates:r}}),n.refreshDisplayNodes)},n.handleClearTypesClick=function(){n.setState({typeStates:new Array(n.getNodeTypes().length).fill(!1)},n.refreshDisplayNodes)},n.handleTagStateChange=function(e,t){var a=e.target.checked;n.setState((function(e){var n=e.tagStates,r=Object(d.a)(n);return r[t]=a,{tagStates:r}}),n.refreshDisplayNodes)},n.handleClearTagsClick=function(){n.setState({tagStates:new Array(n.props.tags.length).fill(!1)},n.refreshDisplayNodes)},n.handleAscendingChange=function(e){n.setState({ascending:e.target.checked},n.refreshDisplayNodes)};var a=Array.from(new Set(n.props.nodes.map((function(e){return e.type})))).filter((function(e){return"doodle"!==e})).sort((function(e,t){return e.localeCompare(t)})),r={nodeTypes:a,typeStates:Array.from(a).fill(!0),sortIdx:0,ascending:!1,filterType:"any",tagStates:Array.from(t.tags).fill(!1),drawerOpen:!1};return"undefined"!=typeof window&&(window.localStorage.getItem("LAB_V1_nodeTypes")===r.nodeTypes.join("")?w.forEach((function(e){var t=JSON.parse(window.localStorage.getItem("LAB_V1_"+e));null!=t&&(r[e]=t)})):(window.localStorage.setItem("LAB_V1_nodeTypes",r.nodeTypes.join("")),w.forEach((function(e){return window.localStorage.removeItem("LAB_V1_"+e)})))),n.state=v(v({},r),{},{nodes:n.getDisplayNodes(r,t)}),n}Object(u.a)(t,e);var n=t.prototype;return n.getDisplayNodes=function(e,t){var n=t.tags,a=t.nodes,r=p.a[e.sortIdx].sortFn,s=this.getNodeTypes(e).filter((function(t,n){return e.typeStates[n]})),o=n.filter((function(t,n){return e.tagStates[n]})).map((function(e){return e.name})),l=(s.length?a.filter((function(e){return"doodle"===e.type||s.includes(e.type)})):a).reduce((function(e,t){return e["doodle"===t.type?0:1].push(t),e}),[[],[]]),c=l[0],i=l[1],d=r(o.length?i.filter((function(t){return o["any"===e.filterType?"some":"every"]((function(e){return t.tags&&t.tags.includes(e)}))})):i),u=e.ascending?d.reverse():d;return c.forEach((function(e){Math.random()<.3&&u.splice(Math.floor(Math.random()*u.length),0,e)})),u},n.render=function(){var e=this,t=this.state.nodes;return r.a.createElement("div",{className:"project-explorer"},r.a.createElement("button",{className:"project-explorer-hide-filters",onClick:function(){return e.setState((function(e){return{drawerOpen:!e.drawerOpen}}))}},this.state.drawerOpen?"Hide filters ▲":"Show filters ▼"),r.a.createElement("div",{className:"filters"},this.state.drawerOpen&&r.a.createElement("div",{className:"controls"},r.a.createElement("p",{className:"legend"},"Show:"),r.a.createElement("div",{className:"inputs"},this.getNodeTypes().map((function(t,n){return r.a.createElement(a.Fragment,{key:t},r.a.createElement("input",{type:"checkbox",name:"labs-types-"+t,id:"labs-types-"+t,value:t,checked:e.state.typeStates[n],onChange:function(t){return e.handleTypeStateChange(t,n)}}),r.a.createElement("label",{htmlFor:"labs-types-"+t},g.a[t].readableType,"s"))}))),r.a.createElement("button",{className:"labs-clear labs-clear-types",onClick:this.handleClearTypesClick},"X"),r.a.createElement("p",{className:"legend"},"Sort by:"),r.a.createElement("div",{className:"inputs"},p.a.map((function(t,n){var s=t.title;return r.a.createElement(a.Fragment,{key:s},r.a.createElement("input",{type:"radio",name:"labs-sort-"+s,id:"labs-sort-"+s,value:s,checked:e.state.sortIdx===n,onChange:function(){return e.handleSortMethodChange(n)}}),r.a.createElement("label",{htmlFor:"labs-sort-"+s},s.toUpperCase().slice(0,1)+s.slice(1)))}))),r.a.createElement("p",{className:"legend"},"Order:"),r.a.createElement("div",{className:"inputs"},r.a.createElement("input",{type:"checkbox",name:"labs-order",id:"labs-order",value:"ascending",checked:this.state.ascending,onChange:this.handleAscendingChange}),r.a.createElement("label",{htmlFor:"labs-order"},"Reverse"),r.a.createElement("button",{onClick:this.shuffleDisplayNodes},"Shuffle")))),r.a.createElement("p",{className:"result-details"},"Found"," ",r.a.createElement("strong",null,t.filter((function(e){return"doodle"!==e.type})).length)," ","entries from"," ",r.a.createElement("strong",null,this.state.typeStates.reduce((function(e,t){return e+t}))||this.state.typeStates.length)," ","sources:"),r.a.createElement(j,{nodes:t,setIsFullyLoaded:this.props.setIsFullyLoaded}))},t}(r.a.PureComponent);function j(e){var t,n=e.nodes,s=e.setIsFullyLoaded,o=Object(a.useState)(20),l=o[0],c=o[1],i=Object(h.b)(),d=i[0],u=i[1],f=i[2];return Object(a.useEffect)((function(){var e,t;(u||(null!==(e=null==f||null===(t=f.boundingClientRect)||void 0===t?void 0:t.bottom)&&void 0!==e?e:1)<=0)&&l<n.length&&c((function(e){return e+20}))}),[u,null==f||null===(t=f.boundingClientRect)||void 0===t?void 0:t.bottom]),Object(a.useEffect)((function(){c(20)}),[n.length]),Object(a.useEffect)((function(){s&&s(l>=n.length)}),[n.length,l]),r.a.createElement(O.a,{nodes:n.slice(0,l),ref:d})}var T=function(e){var t=Object(f.useStaticQuery)("1390350656").allTagsJson.nodes,n=Object(m.a)().concat(E.map((function(e,t){return{uid:"DOODLE_"+t,type:"doodle",Doodle:e}})));return r.a.createElement(N,Object.assign({nodes:n,tags:t},e))},C=n("vrFN");t.default=function(e){var t,n=e.location,i=Object(a.useState)(!1),d=i[0],u=i[1];return r.a.createElement(l.a,null,r.a.createElement(C.a,{title:"Lab"}),r.a.createElement(c.a,{fromPage:null==n||null===(t=n.state)||void 0===t?void 0:t.fromPage},"Lab"),r.a.createElement(T,{setIsFullyLoaded:u}),d&&r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{quoteId:"VOLTAIRE_BORING"}),r.a.createElement(o.a,null)))}},xp8V:function(e,t,n){}}]);
//# sourceMappingURL=component---src-pages-lab-js-1937b150839285c0049d.js.map