(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{Hnid:function(e,t,n){},QFMt:function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),r=n.n(a),o=n("wGsi"),s=n("A3bQ"),l=n("Bl7J"),c=n("2/Wz"),i=n("rePB"),u=n("KQm4"),d=n("dI71"),f=n("Wbzz"),p=n("PjkB"),m=n("SWwi"),h=n("XWfr"),g=n("cVmz"),y=n("1N+T"),b=n("S/o2");function O(e,t,n){return void 0===n&&(n=.5),Array.from({length:Math.floor(Math.random()*(t-e+1)+e)},(function(){return Math.floor(Math.random()+n)}))}function v(e,t){return Math.min(e,t)?e/function e(t,n){if(t<n){var a=[n,t];t=a[0],n=a[1]}var r=t%n;return r?e(n,r):n}(e,t)*t:Math.max(e,t)}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S={width:100+Math.floor(100*Math.random()+1),zoom:6,dark:"#000",light:"#fff",themeBias:.65,seamless:!0},j=function(e){var t,n,a,r=E(E({},S),e),o=r.width,s=r.dark,l=r.light,c=r.themeBias,i=r.seamless,u=document.createElement("canvas"),d=document.createElement("canvas");do{n=(t=v(o,(a=O(20,200,c)).length))/o}while(i&&n>f);u.width=o,u.height=n;for(var f=Math.floor(1e4/o),p=u.getContext("2d"),m=d.getContext("2d"),h=0;h<t;++h){var g=h%o,y=Math.floor(h/o);p.fillStyle=a[h%a.length]?s:l,p.fillRect(g,y,1,1)}var b=Math.min(f,n);d.width=o*b,d.height=n;for(var w=0;w<b;++w){var j=-w;do{m.drawImage(u,w*o,j),j+=n}while(j<=n)}return[d,b,n]};function N(e){var t=Object(a.useState)([]),n=t[0],o=n[0],s=n[1],l=n[2],c=t[1];Object(a.useEffect)((function(){c(j(e))}),[]);var i=E(E({},S),e),u=i.width,d=i.zoom,f=i.dark,p=i.light,m=i.themeBias;return r.a.createElement("li",{onClick:function(){c(j(e))},className:"content-node doodle doodle-background-generator",style:o&&{background:(m>.5?f:p)+" left top/"+u*s*d+"px "+l*d+"px url("+o.toDataURL()}})}n("xp8V");var C=[r.a.forwardRef(N),r.a.forwardRef((function(e,t){return r.a.createElement(y.a,Object.assign({size:[3,3],classPrefix:"doingreat",className:"content-node doodle",OuterElement:"li"},e,{ref:t}),"DOINGREAT")})),r.a.forwardRef((function(e,t){return r.a.createElement(b.a,Object.assign({classPrefix:"wavebump",className:"content-node doodle",ms:50,OuterElement:"li"},e,{ref:t}),"▁▂▃▅▆▇▇▆▅▃▂▁")})),r.a.forwardRef((function(e,t){return r.a.createElement(b.a,Object.assign({classPrefix:"droplet",className:"content-node doodle",ms:150,OuterElement:"li"},e,{ref:t}),"⊙⊚⦾⊛")})),r.a.forwardRef((function(e,t){return r.a.createElement(b.a,Object.assign({classPrefix:"circles",className:"content-node doodle",ms:100,size:[2,2],OuterElement:"li"},e,{ref:t}),"◯⦿◉◎")})),r.a.forwardRef((function(e,t){return r.a.createElement("li",Object.assign({className:"content-node snowman doodle"},e,{ref:t}),"☃")})),r.a.forwardRef((function(e,t){return r.a.createElement(b.a,Object.assign({classPrefix:"wavebump",className:"content-node tall doodle",ms:400,OuterElement:"li"},e,{ref:t}),"Hail Santa!")}))],k=n("ZA8C");n("Hnid");function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T=["typeStates","sortIdx","ascending","filterType","tagStates"],x=function(e){function t(t){var n;(n=e.call(this,t)||this).getNodeTypes=function(e){return void 0===e&&(e=n.state),e.nodeTypes},n.refreshDisplayNodes=function(){n.setState((function(e,t){return"undefined"!=typeof window&&T.forEach((function(t){return window.localStorage.setItem("LAB_V1_"+t,JSON.stringify(e[t]))})),{nodes:n.getDisplayNodes(e,t)}}))},n.shuffleDisplayNodes=function(){n.setState((function(e){var t=e.nodes;return{nodes:Object(p.b)(t)}}))},n.handleSortMethodChange=function(e){n.setState({sortIdx:e},n.refreshDisplayNodes)},n.handleFilterTypeChange=function(e){n.setState({filterType:e.target.value},n.refreshDisplayNodes)},n.handleTypeStateChange=function(e,t){var a=e.target.checked;n.setState((function(e){var n=e.typeStates,r=Object(u.a)(n);return r[t]=a,{typeStates:r}}),n.refreshDisplayNodes)},n.handleClearTypesClick=function(){n.setState({typeStates:new Array(n.getNodeTypes().length).fill(!1)},n.refreshDisplayNodes)},n.handleTagStateChange=function(e,t){var a=e.target.checked;n.setState((function(e){var n=e.tagStates,r=Object(u.a)(n);return r[t]=a,{tagStates:r}}),n.refreshDisplayNodes)},n.handleClearTagsClick=function(){n.setState({tagStates:new Array(n.props.tags.length).fill(!1)},n.refreshDisplayNodes)},n.handleAscendingChange=function(e){n.setState({ascending:e.target.checked},n.refreshDisplayNodes)};var a=Array.from(new Set(n.props.nodes.map((function(e){return e.type})))).sort((function(e,t){return e.localeCompare(t)})),r={nodeTypes:a,typeStates:Array.from(a).fill(!0),sortIdx:0,ascending:!1,filterType:"any",tagStates:Array.from(t.tags).fill(!1),drawerOpen:!1};return"undefined"!=typeof window&&(window.localStorage.getItem("LAB_V1_nodeTypes")===r.nodeTypes.join("")?T.forEach((function(e){var t=JSON.parse(window.localStorage.getItem("LAB_V1_"+e));null!=t&&(r[e]=t)})):(window.localStorage.setItem("LAB_V1_nodeTypes",r.nodeTypes.join("")),T.forEach((function(e){return window.localStorage.removeItem("LAB_V1_"+e)})))),n.state=P(P({},r),{},{nodes:n.getDisplayNodes(r,t)}),n}Object(d.a)(t,e);var n=t.prototype;return n.getDisplayNodes=function(e,t){var n=t.tags,a=t.nodes,r=p.a[e.sortIdx].sortFn,o=this.getNodeTypes(e).filter((function(t,n){return e.typeStates[n]})),s=n.filter((function(t,n){return e.tagStates[n]})).map((function(e){return e.name})),l=(o.length?a.filter((function(e){return o.includes(e.type)})):a).reduce((function(e,t){return e["doodle"===t.type?0:1].push(t),e}),[[],[]]),c=l[0],i=l[1],u=r(s.length?i.filter((function(t){return s["any"===e.filterType?"some":"every"]((function(e){return t.tags&&t.tags.includes(e)}))})):i),d=e.ascending?u.reverse():u;return c.forEach((function(e){Math.random()<.7&&d.splice(Math.floor(Math.random()*d.length),0,e)})),d},n.render=function(){var e=this,t=this.state.nodes;return r.a.createElement("div",{className:"project-explorer"},r.a.createElement("button",{className:"project-explorer-hide-filters",onClick:function(){return e.setState((function(e){return{drawerOpen:!e.drawerOpen}}))}},this.state.drawerOpen?"Hide filters ▲":"Show filters ▼"),r.a.createElement("div",{className:"filters"},this.state.drawerOpen&&r.a.createElement("div",{className:"controls"},r.a.createElement("p",{className:"legend"},"Show:"),r.a.createElement("div",{className:"inputs"},this.getNodeTypes().map((function(t,n){return r.a.createElement(a.Fragment,{key:t},r.a.createElement("input",{type:"checkbox",name:"labs-types-"+t,id:"labs-types-"+t,value:t,checked:e.state.typeStates[n],onChange:function(t){return e.handleTypeStateChange(t,n)}}),r.a.createElement("label",{htmlFor:"labs-types-"+t},h.a[t].readableType,"s"))}))),r.a.createElement("button",{className:"labs-clear labs-clear-types",onClick:this.handleClearTypesClick},"X"),r.a.createElement("p",{className:"legend"},"Sort by:"),r.a.createElement("div",{className:"inputs"},p.a.map((function(t,n){var o=t.title;return r.a.createElement(a.Fragment,{key:o},r.a.createElement("input",{type:"radio",name:"labs-sort-"+o,id:"labs-sort-"+o,value:o,checked:e.state.sortIdx===n,onChange:function(){return e.handleSortMethodChange(n)}}),r.a.createElement("label",{htmlFor:"labs-sort-"+o},o.toUpperCase().slice(0,1)+o.slice(1)))}))),r.a.createElement("p",{className:"legend"},"Order:"),r.a.createElement("div",{className:"inputs"},r.a.createElement("input",{type:"checkbox",name:"labs-order",id:"labs-order",value:"ascending",checked:this.state.ascending,onChange:this.handleAscendingChange}),r.a.createElement("label",{htmlFor:"labs-order"},"Reverse"),r.a.createElement("button",{onClick:this.shuffleDisplayNodes},"Shuffle")))),r.a.createElement("p",{className:"result-details"},"Found ",r.a.createElement("strong",null,t.length)," entries from"," ",r.a.createElement("strong",null,this.state.typeStates.reduce((function(e,t){return e+t}))||this.state.typeStates.length)," ","sources:"),r.a.createElement(I,{nodes:t,setIsFullyLoaded:this.props.setIsFullyLoaded}))},t}(r.a.PureComponent);function I(e){var t,n=e.nodes,o=e.setIsFullyLoaded,s=Object(a.useState)(20),l=s[0],c=s[1],i=Object(g.b)(),u=i[0],d=i[1],f=i[2];return Object(a.useEffect)((function(){var e,t;(d||(null!==(e=null==f||null===(t=f.boundingClientRect)||void 0===t?void 0:t.bottom)&&void 0!==e?e:1)<=0)&&l<n.length&&c((function(e){return e+20}))}),[d,null==f||null===(t=f.boundingClientRect)||void 0===t?void 0:t.bottom]),Object(a.useEffect)((function(){c(20)}),[n.length]),Object(a.useEffect)((function(){o&&o(l>=n.length)}),[n.length,l]),r.a.createElement(k.a,{nodes:n.slice(0,l),ref:u})}var A=function(e){var t=Object(f.useStaticQuery)("1390350656").allTagsJson.nodes,n=Object(m.a)().concat(C.map((function(e,t){return{uid:"DOODLE_"+t,type:"doodle",Doodle:e}})));return r.a.createElement(x,Object.assign({nodes:n,tags:t},e))},M=n("vrFN");t.default=function(e){var t,n=e.location,i=Object(a.useState)(!1),u=i[0],d=i[1];return r.a.createElement(l.a,null,r.a.createElement(M.a,{title:"Lab"}),r.a.createElement(c.a,{fromPage:null==n||null===(t=n.state)||void 0===t?void 0:t.fromPage},"Lab"),r.a.createElement(A,{setIsFullyLoaded:d}),u&&r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,{quoteId:"VOLTAIRE_BORING"}),r.a.createElement(s.a,null)))}},xp8V:function(e,t,n){}}]);
//# sourceMappingURL=component---src-pages-lab-js-f5e72816c5f14f653e24.js.map