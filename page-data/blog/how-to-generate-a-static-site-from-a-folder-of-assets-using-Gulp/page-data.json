{"componentChunkName":"component---src-templates-post-js","path":"/blog/how-to-generate-a-static-site-from-a-folder-of-assets-using-Gulp","result":{"data":{"markdownRemark":{"html":"<h2 id=\"an-entirely-skippable-preface\"><a href=\"#an-entirely-skippable-preface\" aria-label=\"an entirely skippable preface permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>An entirely skippable preface</h2>\n<p><em>(Seriously, we don't start building it until the <a href=\"#building-html-from-a-directory-of-assets\">third section</a>.)</em></p>\n<p>While going through some of my dustier folders on a <a href=\"../the-pool-on-the-roof-must-have-a-leak/\">flight to Hawaii</a> I came across <a href=\"http://natureofcode.com/book/\" target=\"_blank\">The Nature of Code</a>. It's a lovely book with plenty of inspiration for simple demos; perfect plane material.</p>\n<p>After working through a few chapters, I moved my particle system and canvas logic into their own <code class=\"language-text\">util.js</code> file. Until then I'd been creating a new HTML file for each demo, manually adding the title, script includes, and next/previous links. This meant that I had to edit each file to include <code class=\"language-text\">util.js</code>. It was a frustrating amount of overhead considering each demo only took a few minutes to write.</p>\n<h2 id=\"didnt-someone-solve-this-problem-30-years-ago\"><a href=\"#didnt-someone-solve-this-problem-30-years-ago\" aria-label=\"didnt someone solve this problem 30 years ago permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Didn't someone solve this problem 30 years ago?</h2>\n<p>Yes they did, snarky title, but most templating engines I've used make you hook up dependencies <a href=\"http://en.wikipedia.org/wiki/Imperative_programming\" target=\"_blank\">imperatively</a>. This works great for files like <code class=\"language-text\">util.js</code>, because you know it should be included on every page. But I wanted a static HTML page generated automatically for each <code class=\"language-text\">demo.js</code> I churned out; if I had to write a corresponding <code class=\"language-text\">demo.jade</code> file each time, I'd be back to where I started. To solve this problem <a href=\"http://en.wikipedia.org/wiki/Declarative_programming\" target=\"_blank\">properly</a>, I needed to step a bit beyond what templating could offer.</p>\n<p>Being on a plane, I wasn't able to check out <a href=\"http://www.metalsmith.io/\" target=\"_blank\">Metalsmith</a> or any of the other non-bloggy static site generators<sup id=\"fnref-1\"><a href=\"#fn-1\" class=\"footnote-ref\">1</a></sup>. I was already using <a href=\"http://gulpjs.com/\" target=\"_blank\">Gulp</a> to lint my code, so I added a <code class=\"language-text\">build</code> task and got to work.</p>\n<h2 id=\"building-html-from-a-directory-of-assets\"><a href=\"#building-html-from-a-directory-of-assets\" aria-label=\"building html from a directory of assets permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Building HTML from a directory of assets</h2>\n<p>We have two requirements for our site generator:</p>\n<ol>\n<li>Read a list of demo scripts from our <code class=\"language-text\">demos</code> directory, and</li>\n<li>Generate a unique HTML page for each demo. The page must include the proper assets, and next/previous links to other demos.</li>\n</ol>\n<p>While reading this, keep in mind that <em>you can do this for any type of file</em>. The same method can be used to monitor a Dropbox folder full of photos, or an archive of .csv files.</p>\n<p>Gulp is a task runner that lets you automate some of the more mundane parts of your workflow. If you've never used it, you might want to go through a <a href=\"http://markgoodyear.com/2014/01/getting-started-with-gulp/\" target=\"_blank\">quick tutorial</a> before continuing.</p>\n<h3 id=\"step-1-standardize-your-filenames\"><a href=\"#step-1-standardize-your-filenames\" aria-label=\"step 1 standardize your filenames permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Step 1: Standardize your filenames</h3>\n<p>For the sake of simplicity, we'll base our output's structure on the demos' filenames<sup id=\"fnref-2\"><a href=\"#fn-2\" class=\"footnote-ref\">2</a></sup>. I opted for <code class=\"language-text\">chapterNum.demoNum_demoName</code><sup id=\"fnref-3\"><a href=\"#fn-3\" class=\"footnote-ref\">3</a></sup>, but anything that can be sorted is fine.</p>\n<figure>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 675px;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/97710d1ce7b7687c5cfdb882a97b1047/3e8d6/standardized-filenames.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 15.353535353535353%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAxklEQVQI11WOzW6CQBRGWVRb699GIxjEpI0L91WxNg3MOANCGKgkbTcuWt//GY4DOxff4p4v597rLBLNqlCsqxRX1QTlFS+7MNG/TNU38/zSsoX5s/nHlYbhu7LRjD8SRgfNcyjpbmIetwLHkyWz2OCrM/7R4MYZ44Oit40sz5mLHM+yyWfKIBQ8WalZ4quSQFd4sqAfHnl4i9o4TfFyqnnNalxR0NtJOvZaf6+sVLFMzwTJVzt3N4KOlZrPGmdtfu7caZRzA4QSYflndPZkAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Standardized filenames\" title=\"Standardized filenames\" src=\"/static/97710d1ce7b7687c5cfdb882a97b1047/38c03/standardized-filenames.png\" srcset=\"/static/97710d1ce7b7687c5cfdb882a97b1047/70aa4/standardized-filenames.png 169w,\n/static/97710d1ce7b7687c5cfdb882a97b1047/17add/standardized-filenames.png 338w,\n/static/97710d1ce7b7687c5cfdb882a97b1047/38c03/standardized-filenames.png 675w,\n/static/97710d1ce7b7687c5cfdb882a97b1047/3e8d6/standardized-filenames.png 990w\" sizes=\"(max-width: 675px) 100vw, 675px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n</figure>\n<h3 id=\"step-2-read-the-files-into-gulp\"><a href=\"#step-2-read-the-files-into-gulp\" aria-label=\"step 2 read the files into gulp permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Step 2: Read the files into Gulp</h3>\n<p>To get a list of demos into Gulp, I used a module called <a href=\"https://www.npmjs.com/package/glob\" target=\"_blank\">glob</a><sup id=\"fnref-4\"><a href=\"#fn-4\" class=\"footnote-ref\">4</a></sup>.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> glob <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'glob'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> gulp <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'gulp'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'path'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ngulp<span class=\"token punctuation\">.</span><span class=\"token function\">task</span><span class=\"token punctuation\">(</span><span class=\"token string\">'build'</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token function\">glob</span><span class=\"token punctuation\">(</span><span class=\"token string\">'../path/to/demos/'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">err<span class=\"token punctuation\">,</span> files</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ...</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>We now have a list of filenames in <code class=\"language-text\">files</code>. That's all we need, thanks to our trusty <a href=\"#step-1-standardize-your-filenames\">semantic filenames</a>.</p>\n<h3 id=\"step-3-sort-and-sanitize-the-files\"><a href=\"#step-3-sort-and-sanitize-the-files\" aria-label=\"step 3 sort and sanitize the files permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Step 3: Sort and sanitize the files</h3>\n<p>Within our callback for <code class=\"language-text\">glob</code>, we can rename and rearrange our files based on whatever rules we want. I chose to sort the files in reverse order, so the newest demos would be shown first. After sorting the files, I stripped off their numbers, leaving me with a sorted fileName array.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// ...</span>\n<span class=\"token comment\">// (within glob's callback argument)</span>\n\n<span class=\"token comment\">// get the basename from our files</span>\nfiles <span class=\"token operator\">=</span> files<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">return</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">basename</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> <span class=\"token string\">'.js'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// sort the files in reverse order</span>\nfiles<span class=\"token punctuation\">.</span><span class=\"token function\">sort</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">a<span class=\"token punctuation\">,</span> b</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">return</span> <span class=\"token function\">parseFloat</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> <span class=\"token function\">parseFloat</span><span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// remove the numbers once we're in sorted order</span>\nfiles <span class=\"token operator\">=</span> files<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">return</span> name<span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">'_'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Our last step in <code class=\"language-text\">glob</code>'s callback is to send each file to a <code class=\"language-text\">buildHTML()</code> function. This is where the magic happens.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">files<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">demoName<span class=\"token punctuation\">,</span> i</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token comment\">// files[i + 1] and [i - 1] will only be truthy if they exist</span>\n\t<span class=\"token keyword\">return</span> <span class=\"token function\">buildHTML</span><span class=\"token punctuation\">(</span>demoName<span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">,</span> files<span class=\"token punctuation\">[</span>i <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> files<span class=\"token punctuation\">[</span>i <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>In addition to sending a demo's name and index to <code class=\"language-text\">buildHTML()</code>, I also sent its next/previous neighbors. This allows for simple linking between pages.</p>\n<h3 id=\"step-4-make-a-template\"><a href=\"#step-4-make-a-template\" aria-label=\"step 4 make a template permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Step 4: Make a template</h3>\n<p>Now that we have all the metadata we need, we can start using templates. Here are the simple <a href=\"http://jade-lang.com/\" target=\"_blank\">jade</a><sup id=\"fnref-5\"><a href=\"#fn-5\" class=\"footnote-ref\">5</a></sup> files I used:</p>\n<p><code class=\"language-text\">default.jade</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"markup\"><pre class=\"language-markup\"><code class=\"language-markup\">doctype html\nhtml(lang=\"en\")\n  head\n    block title\n    link(href=\"styles.css\" rel=\"stylesheet\" type=\"text/css\")\n    //- favicon, etc.\n  block body</code></pre></div>\n<p><code class=\"language-text\">demo.jade</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"markup\"><pre class=\"language-markup\"><code class=\"language-markup\">extends ./default.jade\n\nblock title\n  title \"Demo #{i}: #{demoName.charAt(0).toUpperCase() + demoName.slice(1)} | Nature of Code\"\n\nblock body\n  body.demo\n    if prev!==null\n      a.prev(href=\"#{prev}.html\") Prev\n    if next!==null\n      a.next(href=\"#{next}.html\") Next\n    script(src=\"util.js\")\n    script(src=\"demos/#{demoName}.js\")</code></pre></div>\n<p>With variables passed in from Gulp, we can automatically set the title, pull in the correct script, and set our next/previous links.</p>\n<h3 id=\"step-5-build-your-files\"><a href=\"#step-5-build-your-files\" aria-label=\"step 5 build your files permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Step 5: Build your files</h3>\n<p>Finally, we send our data from Gulp into the <code class=\"language-text\">demo.jade</code> template:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> jade <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'gulp-jade'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> rename <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'gulp-rename'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">buildHTML</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">demoName<span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">,</span> next<span class=\"token punctuation\">,</span> prev</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\tgulp<span class=\"token punctuation\">.</span><span class=\"token function\">src</span><span class=\"token punctuation\">(</span><span class=\"token string\">'../path/to/demo.jade'</span><span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>\n\t\t\t<span class=\"token function\">jade</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\t\t\t\tlocals<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n\t\t\t\t\tdemoName<span class=\"token punctuation\">:</span> demoName<span class=\"token punctuation\">,</span>\n\t\t\t\t\ti<span class=\"token punctuation\">:</span> i<span class=\"token punctuation\">,</span>\n\t\t\t\t\tnext<span class=\"token punctuation\">:</span> next <span class=\"token operator\">?</span> i <span class=\"token operator\">+</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n\t\t\t\t\tprev<span class=\"token punctuation\">:</span> prev <span class=\"token operator\">?</span> i <span class=\"token operator\">-</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n\t\t\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>gulp <span class=\"token operator\">-</span> <span class=\"token function\">rename</span><span class=\"token punctuation\">(</span>i <span class=\"token operator\">+</span> <span class=\"token string\">'.html'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>gulp<span class=\"token punctuation\">.</span><span class=\"token function\">dest</span><span class=\"token punctuation\">(</span><span class=\"token string\">'../path/to/dist/'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>I decided to name pages <code class=\"language-text\">1.html</code>, <code class=\"language-text\">2.html</code>, etc. so that they'd be easy to jump to using the navigation bar. More expressive names could easily be swapped in.</p>\n<h2 id=\"next-steps\"><a href=\"#next-steps\" aria-label=\"next steps permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Next steps</h2>\n<p>There are still some goodies that we can throw into our task runner<sup id=\"fnref-6\"><a href=\"#fn-6\" class=\"footnote-ref\">6</a></sup>, but I'll leave the rest as an exercise for the reader. A working project with all the bells and whistles can be found at my <a href=\"https://github.com/rileyjshaw/nature-of-code\" target=\"_blank\">Nature of Code repo</a>. Its generated site is live <a href=\"http://rileyjshaw.com/nature-of-code/\" target=\"_blank\">here</a>.</p>\n<h2 id=\"references\"><a href=\"#references\" aria-label=\"references permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>References</h2>\n<ul>\n<li><a href=\"https://github.com/rileyjshaw/nature-of-code/\" target=\"_blank\">GitHub repository</a></li>\n<li><a href=\"http://rileyjshaw.com/nature-of-code/\" target=\"_blank\">Live demo</a></li>\n</ul>\n<h2 id=\"footnotes\"><a href=\"#footnotes\" aria-label=\"footnotes permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Footnotes</h2>\n<div class=\"footnotes\">\n<hr>\n<ol>\n<li id=\"fn-1\">\n<p>If you're looking to make something more complicated than simple linked pages, <a href=\"https://www.staticgen.com/\" target=\"_blank\">go here</a>.</p>\n<a href=\"#fnref-1\" class=\"footnote-backref\">↩</a>\n</li>\n<li id=\"fn-2\">\n<p>Doing this felt yucky initially, but I came to really like having a strict naming convention. Opening the demos directory and having your app's structure immediately apparent is very handy.</p>\n<a href=\"#fnref-2\" class=\"footnote-backref\">↩</a>\n</li>\n<li id=\"fn-3\">\n<p>One of my biggest concerns with this: once I'd written demos <code class=\"language-text\">1.5</code>, <code class=\"language-text\">1.6</code>, and <code class=\"language-text\">1.7</code>, how could I add anything between <code class=\"language-text\">1.5</code> and <code class=\"language-text\">1.6</code> without renaming a whole cascade of files? This turned out to not be a concern. Since we're just using the numbers for sorting in Gulp, <code class=\"language-text\">1.51</code> is perfectly valid for an input. We can name the output <code class=\"language-text\">1.6</code> and shift the rest accordingly.</p>\n<a href=\"#fnref-3\" class=\"footnote-backref\">↩</a>\n</li>\n<li id=\"fn-4\">\n<p>There are about as many ways to get a list of filenames in Node as there are Node modules. Glob is a simple option, but anything will do.</p>\n<a href=\"#fnref-4\" class=\"footnote-backref\">↩</a>\n</li>\n<li id=\"fn-5\">\n<p>Likewise, there is no magical reason to use jade over anything else so feel free to use your preferred templating language. I chose jade mainly because it was already installed on my computer and I had no internet connection.</p>\n<a href=\"#fnref-5\" class=\"footnote-backref\">↩</a>\n</li>\n<li id=\"fn-6\">\n<p>Most importantly, <a href=\"https://github.com/rileyjshaw/nature-of-code/blob/0d70ea473eca2267d5c8413c3a7f2bd8e79b806b/gulpfile.js#L87\" target=\"_blank\">transferring static assets into the <code class=\"language-text\">dist</code> folder</a> and <a href=\"https://github.com/rileyjshaw/nature-of-code/blob/0d70ea473eca2267d5c8413c3a7f2bd8e79b806b/gulpfile.js#L98\" target=\"_blank\">watching files for changes</a>.</p>\n<a href=\"#fnref-6\" class=\"footnote-backref\">↩</a>\n</li>\n</ol>\n</div>","fields":{"date":"March 05, 2015","slug":"/blog/how-to-generate-a-static-site-from-a-folder-of-assets-using-Gulp","title":"How to generate a static site from a folder of assets using Gulp"}}},"pageContext":{}}}